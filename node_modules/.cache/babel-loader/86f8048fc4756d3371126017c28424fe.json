{"ast":null,"code":"var _jsxFileName = \"/Users/dionysiospapadopoulos/Documents/CodeClan/taskManagerFinalProject/task_manager/client/src/components/Task.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport RequestContext from \"../context/RequestContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Task = _ref => {\n  _s();\n\n  let {\n    task,\n    categories,\n    priorities,\n    updateWholeMainPageStateFromComponent\n  } = _ref;\n  const navigate = useNavigate(); // const location = useLocation();\n  // const task = location.state.task;\n  // const categories = location.state.categories;\n  // const priorities = location.state.priorities;\n  // const [loading, setLoading] = useState(true);\n  // const [isMenuOpen, setIsMenuOpen] = useState(false);\n  // const [editTitle, setEditTitle] = useState(false);\n  // const [taskTitle, setTaskTitle] = useState(task.title);\n\n  const [taskCompleted, setTaskCompleted] = useState(task.completed); ///////////\n\n  const [taskTitle, setTaskTitle] = useState(task.title);\n  const [taskCategory, setTaskCategory] = useState(task.category);\n  const [taskPriority, setTaskPriority] = useState(task.priority);\n  const [taskDescription, setTaskDescription] = useState(task.description);\n  const [taskDate, setTaskDate] = useState(task.date);\n  const [taskTime, setTaskTime] = useState(task.time);\n  const [datedTaskType, setDatedTaskType] = useState(task.type);\n  const [completedTimeStamp, setCompletedTimeStamp] = useState(null);\n  const [taskDuration, setTaskDuration] = useState(task.duration);\n  const [taskCollaborators, setTaskCollaborators] = useState(null); // const [collaboratorsToDisplay, setCollaboratorsToDisplay] = useState([]);\n  // const [searchInput, setSearchInput] = useState(\"\");\n\n  const {\n    get,\n    post,\n    put\n  } = useContext(RequestContext);\n  useEffect(() => {\n    setTaskCompleted(task.completed);\n  }, [task]);\n  useEffect(() => {\n    onClickingDone();\n  }, [taskCompleted]);\n\n  const onClickingDone = () => {\n    const updatedTask = {};\n    updatedTask[\"title\"] = taskTitle;\n    updatedTask[\"category\"] = taskCategory;\n    updatedTask[\"priority\"] = taskPriority;\n    updatedTask[\"completed\"] = taskCompleted;\n    updatedTask[\"completedTimeStamp\"] = completedTimeStamp;\n\n    if (taskDescription) {\n      updatedTask[\"description\"] = taskDescription;\n    }\n\n    if (taskDate) {\n      updatedTask[\"date\"] = taskDate;\n      updatedTask[\"type\"] = datedTaskType;\n    } else {\n      updatedTask[\"type\"] = \"SOMEDAY\";\n    }\n\n    if (taskTime) {\n      updatedTask[\"time\"] = taskTime;\n    }\n\n    if (taskDuration) {\n      updatedTask[\"duration\"] = taskDuration;\n    }\n\n    console.log(\"updatedTask\", updatedTask); /////////////\n\n    console.log(\"task.id\", task.id); /////////////\n\n    put(`tasks/${task.id}`, updatedTask);\n    updateWholeMainPageStateFromComponent(updatedTask); // redirect to home page            \n  };\n\n  const onCheckboxClick = () => {\n    // console.log(\"inside Complete\");\n    setTaskCompleted(!taskCompleted);\n\n    if (!completedTimeStamp) {\n      let timestamp = Date.parse(new Date());\n      setCompletedTimeStamp(timestamp); // onClickingDone()\n    } else {\n      setCompletedTimeStamp(null); // onClickingDone()\n    }\n  };\n\n  const onTaskClick = e => {\n    navigate(`/task/:${task.title}`, {\n      state: {\n        task: task,\n        categories: categories,\n        priorities: priorities\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"checkbox\",\n      id: \"task\",\n      name: \"task\",\n      checked: taskCompleted,\n      onClick: () => onCheckboxClick()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"task\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onTaskClick,\n        children: task.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 40\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 13\n  }, this);\n};\n\n_s(Task, \"FlWAhAieYGRmJEYTBWz1NyUWxTk=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Task;\nexport default Task;\n\nvar _c;\n\n$RefreshReg$(_c, \"Task\");","map":{"version":3,"sources":["/Users/dionysiospapadopoulos/Documents/CodeClan/taskManagerFinalProject/task_manager/client/src/components/Task.js"],"names":["useState","useEffect","useContext","useNavigate","RequestContext","Task","task","categories","priorities","updateWholeMainPageStateFromComponent","navigate","taskCompleted","setTaskCompleted","completed","taskTitle","setTaskTitle","title","taskCategory","setTaskCategory","category","taskPriority","setTaskPriority","priority","taskDescription","setTaskDescription","description","taskDate","setTaskDate","date","taskTime","setTaskTime","time","datedTaskType","setDatedTaskType","type","completedTimeStamp","setCompletedTimeStamp","taskDuration","setTaskDuration","duration","taskCollaborators","setTaskCollaborators","get","post","put","onClickingDone","updatedTask","console","log","id","onCheckboxClick","timestamp","Date","parse","onTaskClick","e","state"],"mappings":"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","sourcesContent":["import { useState, useEffect, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport RequestContext from \"../context/RequestContext\";\n\nconst Task = ({ task, categories, priorities, updateWholeMainPageStateFromComponent }) => {\n    const navigate = useNavigate();\n    // const location = useLocation();\n    // const task = location.state.task;\n    // const categories = location.state.categories;\n    // const priorities = location.state.priorities;\n\n    // const [loading, setLoading] = useState(true);\n    // const [isMenuOpen, setIsMenuOpen] = useState(false);\n\n    // const [editTitle, setEditTitle] = useState(false);\n    // const [taskTitle, setTaskTitle] = useState(task.title);\n    \n    const [taskCompleted, setTaskCompleted] = useState(task.completed);///////////\n\n    const [taskTitle, setTaskTitle] = useState(task.title);\n    const [taskCategory, setTaskCategory] = useState(task.category);\n    const [taskPriority, setTaskPriority] = useState(task.priority);\n    const [taskDescription, setTaskDescription] = useState(task.description);\n    const [taskDate, setTaskDate] = useState(task.date);\n    const [taskTime, setTaskTime] = useState(task.time);\n    const [datedTaskType, setDatedTaskType] = useState(task.type);\n    const [completedTimeStamp, setCompletedTimeStamp] = useState(null);\n    const [taskDuration, setTaskDuration] = useState(task.duration);\n    const [taskCollaborators, setTaskCollaborators] = useState(null);\n\n    // const [collaboratorsToDisplay, setCollaboratorsToDisplay] = useState([]);\n    // const [searchInput, setSearchInput] = useState(\"\");\n\n    const {get, post, put} = useContext(RequestContext);\n\n\n    useEffect(() => {\n        setTaskCompleted(task.completed);\n        \n    }, [task]);\n\n    useEffect(() => {\n        onClickingDone()\n    }, [taskCompleted]);\n\n    const onClickingDone = () => {\n        const updatedTask= { }\n        updatedTask[\"title\"] = taskTitle;\n        updatedTask[\"category\"] = taskCategory;\n        updatedTask[\"priority\"] = taskPriority;\n        updatedTask[\"completed\"]=taskCompleted;\n        updatedTask[\"completedTimeStamp\"]=completedTimeStamp;\n\n        if(taskDescription){\n            updatedTask[\"description\"]=taskDescription;\n        }\n        if(taskDate){\n            updatedTask[\"date\"]=taskDate;\n            updatedTask[\"type\"]=datedTaskType;\n        }else{\n            updatedTask[\"type\"]=\"SOMEDAY\";\n\n        }\n        if(taskTime){\n            updatedTask[\"time\"]=taskTime;\n        }\n        if(taskDuration){\n            updatedTask[\"duration\"]=taskDuration;\n        }\n        \n        console.log(\"updatedTask\", updatedTask);/////////////\n        console.log(\"task.id\", task.id);/////////////\n        \n        put(`tasks/${task.id}`, updatedTask)\n        updateWholeMainPageStateFromComponent(updatedTask)\n        // redirect to home page            \n    }\n\n    const onCheckboxClick= () => {\n        // console.log(\"inside Complete\");\n        setTaskCompleted(!taskCompleted)\n        if(!completedTimeStamp){\n            let timestamp = Date.parse(new Date());\n            setCompletedTimeStamp(timestamp);\n            // onClickingDone()\n        }else{\n            setCompletedTimeStamp(null);\n            // onClickingDone()\n        }\n        \n    }\n\n    const onTaskClick = (e) => {\n        navigate(`/task/:${task.title}`, {\n            state: {\n                task:task,\n                categories:categories,\n                priorities: priorities,\n            }\n        })\n    }\n\n    return (\n            <div>\n                <input type=\"checkbox\" id=\"task\" name=\"task\" checked={taskCompleted} onClick={()=>onCheckboxClick()}/>\n                <label htmlFor=\"task\"> <button onClick={onTaskClick}>{ task.title }</button> </label>\n            </div>\n      )\n}\n\nexport default Task;\n"]},"metadata":{},"sourceType":"module"}