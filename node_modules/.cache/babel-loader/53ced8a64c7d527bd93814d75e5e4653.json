{"ast":null,"code":"var _jsxFileName = \"/Users/dionysiospapadopoulos/Documents/CodeClan/taskManagerFinalProject/task_manager/client/src/containers/DistinctGoalPage.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useContext } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport RequestContext from \"../context/RequestContext\";\nimport Menu from \"../components/Menu\";\nimport SearchBar from \"../components/SearchBar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst DistinctGoalPage = _ref => {\n  _s();\n\n  let {\n    categories,\n    priorities,\n    goals,\n    goalTypesList,\n    users,\n    updateAppMainStateFromComponent\n  } = _ref;\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [categoriesToDisplay, setCategoriesToDisplay] = useState([]);\n  const [goalTitle, setGoalTitle] = useState(null);\n  const [goalID, setGoalID] = useState(null);\n  const [editGoalTitle, setEditGoalTitle] = useState(false);\n  const [goalType, setGoalType] = useState(null);\n  const [editGoalType, setEditGoalType] = useState(false);\n  const [goalTypes, setGoalTypes] = useState(null);\n  const [goalTarget, setGoalTarget] = useState(null);\n  const [editGoalTarget, setEditGoalTarget] = useState(false);\n  const [goalStartDate, setGoalStartDate] = useState(null);\n  const [editGoalStartDate, setEditGoalStartDate] = useState(false);\n  const [goalEndDate, setGoalEndDate] = useState(null);\n  const [editGoalEndDate, setEditGoalEndDate] = useState(false);\n  const [goalCategories, setGoalCategories] = useState([]);\n  const [editGoalCategories, setEditGoalCategories] = useState(false);\n  const [goalActive, setGoalActive] = useState(true);\n  const {\n    get,\n    post,\n    put\n  } = useContext(RequestContext);\n  const location = useLocation();\n  const goal = location.state.goal;\n  const endDate = location.state.endDate;\n  const navigate = useNavigate();\n  useEffect(() => {\n    ///////\n    console.log(\"goalTypesList Start\", goalTypesList); //////\n  }, []); ////////\n\n  useEffect(() => {\n    setGoalTitle(goal.title);\n    setGoalID(goal.id);\n    setGoalType(goal.type);\n    setGoalTarget(goal.target);\n    setGoalStartDate(goal.startDate);\n    setGoalEndDate(endDate);\n    console.log(\"!!!!!!!goal.categories\", goal.categories);\n    setGoalCategories(goal.categories); ////////\n\n    setGoalActive(goal.active);\n  }, [goal]);\n  useEffect(() => {\n    console.log(\"goalTypesList\", goalTypesList); //////\n\n    setGoalTypes(goalTypesList);\n  }, [goalTypesList]);\n  useEffect(() => {\n    let categoriesToDisplay = categories.filter(category => {\n      return category.title.toLowerCase().match(searchInput);\n    });\n    setCategoriesToDisplay(categoriesToDisplay);\n  }, [searchInput]); //   useEffect(() => {\n  //       console.log(\"!!!!!!!!users\", users);///////////\n  //   }, [users]);\n\n  const closeMenuFunction = () => {\n    setIsMenuOpen(false);\n  };\n\n  const handleChange = e => {\n    e.preventDefault();\n    setSearchInput(e.target.value.toLowerCase());\n  };\n\n  const onClickingACategory = (category, e) => {\n    e.preventDefault();\n    const existingCategoryIDs = Object.values(goalCategories).map(category => category.id);\n\n    if (existingCategoryIDs.includes(category.id)) {\n      alert(\"this category has already been added\");\n    } else {\n      setGoalCategories([...goalCategories, category]);\n    }\n\n    setSearchInput(\"\");\n  };\n\n  const removeGoalCategory = categoryID => {\n    const updatedCategories = goalCategories.filter(category => category.id !== categoryID);\n    setGoalCategories(updatedCategories);\n  };\n\n  const onClickingDone = () => {\n    let updatedGoal = {\n      title: goalTitle,\n      id: goalID,\n      type: goalType,\n      target: goalTarget,\n      startDate: goalStartDate,\n      categories: goalCategories\n    };\n    console.log(\"updatedGoal\", updatedGoal); /////////\n\n    put(`goals/${goal.id}`, updatedGoal);\n    updateAppMainStateFromComponent(updatedGoal);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [!isMenuOpen ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsMenuOpen(!isMenuOpen),\n        children: \"Menu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this)\n    }, void 0, false) : /*#__PURE__*/_jsxDEV(Menu, {\n      closeMenuFunction: () => closeMenuFunction(),\n      categories: categories,\n      priorities: priorities\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \" Goal Title \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: goalTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), !editGoalTitle ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setEditGoalTitle(true),\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"goalTitle\",\n          id: \"goalTitle\",\n          value: goalTitle,\n          onChange: e => setGoalTitle(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setEditGoalTitle(false);\n            onClickingDone();\n          },\n          children: \"Done\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \" Goal Type \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: goalType\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), !editGoalType ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setEditGoalType(true),\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"goalType\",\n          id: \"goalType\",\n          onChange: e => setGoalType(e.target.value),\n          children: goalTypes.map(type => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: type,\n            children: type\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setEditGoalType(false);\n            onClickingDone();\n          },\n          children: \"Done\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \" Goal Target \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: goalTarget\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), !editGoalTarget ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setEditGoalTarget(true),\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"goalTarget\",\n          id: \"goalTarget\",\n          value: goalTarget,\n          onChange: e => setGoalTarget(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setEditGoalTarget(false);\n            onClickingDone();\n          },\n          children: \"Done\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \" Goal Start Date \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: goalStartDate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), !editGoalStartDate ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setEditGoalStartDate(true),\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"goalStartDate\",\n          id: \"goalStartDate\",\n          value: goalStartDate,\n          onChange: e => setSearchInput(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setEditGoalStartDate(false);\n            onClickingDone();\n          },\n          children: \"Done\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \" Goal End Date \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: goalEndDate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \" Goal Categories \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: goalCategories.length > 0 && Object.values(goalCategories).map(goalCategory => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [goalCategory.title, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => removeGoalCategory(goalCategory.id),\n            children: \"X\"\n          }, goalCategory.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), !editGoalCategories ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setEditGoalCategories(true),\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search For Category Here\",\n          onChange: handleChange,\n          value: searchInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this), searchInput.length > 0 && /*#__PURE__*/_jsxDEV(SearchBar, {\n          onClickingAnOption: (category, e) => onClickingACategory(category, e),\n          optionsToDisplay: categoriesToDisplay\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setEditGoalCategories(false);\n            onClickingDone();\n          },\n          children: \"Done\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          // delete\n          navigate(\"/goals\");\n        },\n        children: \"Delete Goals\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate(\"/goals\"),\n        children: \"Back To Goals\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n};\n\n_s(DistinctGoalPage, \"pI5dCbUlsMOThl08Ek9wBA8F670=\", false, function () {\n  return [useLocation, useNavigate];\n});\n\n_c = DistinctGoalPage;\nexport default DistinctGoalPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"DistinctGoalPage\");","map":{"version":3,"sources":["/Users/dionysiospapadopoulos/Documents/CodeClan/taskManagerFinalProject/task_manager/client/src/containers/DistinctGoalPage.js"],"names":["useState","useEffect","useContext","useNavigate","useLocation","RequestContext","Menu","SearchBar","DistinctGoalPage","categories","priorities","goals","goalTypesList","users","updateAppMainStateFromComponent","isMenuOpen","setIsMenuOpen","searchInput","setSearchInput","categoriesToDisplay","setCategoriesToDisplay","goalTitle","setGoalTitle","goalID","setGoalID","editGoalTitle","setEditGoalTitle","goalType","setGoalType","editGoalType","setEditGoalType","goalTypes","setGoalTypes","goalTarget","setGoalTarget","editGoalTarget","setEditGoalTarget","goalStartDate","setGoalStartDate","editGoalStartDate","setEditGoalStartDate","goalEndDate","setGoalEndDate","editGoalEndDate","setEditGoalEndDate","goalCategories","setGoalCategories","editGoalCategories","setEditGoalCategories","goalActive","setGoalActive","get","post","put","location","goal","state","endDate","navigate","console","log","title","id","type","target","startDate","active","filter","category","toLowerCase","match","closeMenuFunction","handleChange","e","preventDefault","value","onClickingACategory","existingCategoryIDs","Object","values","map","includes","alert","removeGoalCategory","categoryID","updatedCategories","onClickingDone","updatedGoal","length","goalCategory"],"mappings":"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","sourcesContent":["import { useState, useEffect, useContext } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport RequestContext from \"../context/RequestContext\";\nimport Menu from \"../components/Menu\";\nimport SearchBar from \"../components/SearchBar\";\n\nconst DistinctGoalPage = ({ categories, priorities, goals, goalTypesList, users, updateAppMainStateFromComponent }) => {\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [searchInput, setSearchInput] = useState(\"\");\n\n  const [categoriesToDisplay, setCategoriesToDisplay] = useState([]);\n\n  const [goalTitle, setGoalTitle] = useState(null);\n  const [goalID, setGoalID] = useState(null);\n  const [editGoalTitle, setEditGoalTitle] = useState(false);\n  const [goalType, setGoalType] = useState(null);\n  const [editGoalType, setEditGoalType] = useState(false);\n  const [goalTypes, setGoalTypes] = useState(null);\n  const [goalTarget, setGoalTarget] = useState(null);\n  const [editGoalTarget, setEditGoalTarget] = useState(false);\n  const [goalStartDate, setGoalStartDate] = useState(null);\n  const [editGoalStartDate, setEditGoalStartDate] = useState(false);\n  const [goalEndDate, setGoalEndDate] = useState(null);\n  const [editGoalEndDate, setEditGoalEndDate] = useState(false);\n  const [goalCategories, setGoalCategories] = useState([]);\n  const [editGoalCategories, setEditGoalCategories] = useState(false);\n  const [goalActive, setGoalActive] = useState(true);\n\n  const { get, post, put } = useContext(RequestContext);\n\n  const location = useLocation();\n  const goal = location.state.goal;\n  const endDate = location.state.endDate;\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    ///////\n    console.log(\"goalTypesList Start\", goalTypesList); //////\n  }, []); ////////\n\n  useEffect(() => {\n    setGoalTitle(goal.title);\n    setGoalID(goal.id);\n    setGoalType(goal.type);\n    setGoalTarget(goal.target);\n    setGoalStartDate(goal.startDate);\n    setGoalEndDate(endDate);\n    console.log(\"!!!!!!!goal.categories\", goal.categories);\n    setGoalCategories(goal.categories); ////////\n    setGoalActive(goal.active);\n  }, [goal]);\n\n  useEffect(() => {\n    console.log(\"goalTypesList\", goalTypesList); //////\n    setGoalTypes(goalTypesList);\n  }, [goalTypesList]);\n\n  useEffect(() => {\n    let categoriesToDisplay = categories.filter((category) => {\n      return category.title.toLowerCase().match(searchInput);\n    });\n    setCategoriesToDisplay(categoriesToDisplay);\n  }, [searchInput]);\n\n//   useEffect(() => {\n//       console.log(\"!!!!!!!!users\", users);///////////\n//   }, [users]);\n\n  const closeMenuFunction = () => {\n    setIsMenuOpen(false);\n  };\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    setSearchInput(e.target.value.toLowerCase());\n  };\n\n  const onClickingACategory = (category, e) => {\n    e.preventDefault();\n    const existingCategoryIDs = \n    Object.values(goalCategories).map(category => (\n      category.id\n    ));\n    if(existingCategoryIDs.includes(category.id)){\n      alert(\"this category has already been added\")\n    }else{\n      setGoalCategories([...goalCategories, category]);\n    }\n    setSearchInput(\"\");\n  };\n\n  const removeGoalCategory = (categoryID) => {\n    const updatedCategories = goalCategories.filter(\n      (category) => category.id !== categoryID\n    );\n    setGoalCategories(updatedCategories);\n  };\n\n  const onClickingDone = () => {\n    let updatedGoal = { \n      title: goalTitle,\n      id: goalID,\n      type: goalType, \n      target: goalTarget, \n      startDate: goalStartDate,\n      categories: goalCategories\n    };\n    console.log(\"updatedGoal\", updatedGoal);/////////\n    put(`goals/${goal.id}`, updatedGoal);\n    updateAppMainStateFromComponent(updatedGoal);\n\n  };\n\n  return (\n    <div>\n      {!isMenuOpen ? (\n        <>\n          <button onClick={() => setIsMenuOpen(!isMenuOpen)}>Menu</button>\n        </>\n      ) : (\n        <Menu\n          closeMenuFunction={() => closeMenuFunction()}\n          categories={categories}\n          priorities={priorities}\n        />\n      )}\n      <div>\n        <label> Goal Title </label>\n        <h3>{goalTitle}</h3>\n        {!editGoalTitle ? (\n          <button onClick={() => setEditGoalTitle(true)}>Edit</button>\n        ) : (\n          <>\n            <input\n              type=\"text\"\n              name=\"goalTitle\"\n              id=\"goalTitle\"\n              value={goalTitle}\n              onChange={(e) => setGoalTitle(e.target.value)}\n              required\n            />\n            <button\n              onClick={() => {\n                setEditGoalTitle(false);\n                onClickingDone();\n              }}\n            >\n              Done\n            </button>\n          </>\n        )}\n      </div>\n      <div>\n        <label> Goal Type </label>\n        <h3>{goalType}</h3>\n        {!editGoalType ? (\n          <button onClick={() => setEditGoalType(true)}>Edit</button>\n        ) : (\n          <>\n            <select\n              name=\"goalType\"\n              id=\"goalType\"\n              onChange={(e) => setGoalType(e.target.value)}\n            >\n              {goalTypes.map((type) => (\n                <option value={type}>{type}</option>\n              ))}\n            </select>\n            <button\n              onClick={() => {\n                setEditGoalType(false);\n                onClickingDone();\n              }}\n            >\n              Done\n            </button>\n          </>\n        )}\n      </div>\n      <div>\n        <label> Goal Target </label>\n        <h3>{goalTarget}</h3>\n        {!editGoalTarget ? (\n          <button onClick={() => setEditGoalTarget(true)}>Edit</button>\n        ) : (\n          <>\n            <input\n              type=\"text\"\n              name=\"goalTarget\"\n              id=\"goalTarget\"\n              value={goalTarget}\n              onChange={(e) => setGoalTarget(e.target.value)}\n              required\n            />\n            <button\n              onClick={() => {\n                setEditGoalTarget(false);\n                onClickingDone();\n              }}\n            >\n              Done\n            </button>\n          </>\n        )}\n      </div>\n      <div>\n        <label> Goal Start Date </label>\n        <h3>{goalStartDate}</h3>\n        {!editGoalStartDate ? (\n          <button onClick={() => setEditGoalStartDate(true)}>Edit</button>\n        ) : (\n          <>\n            <input\n              type=\"date\"\n              name=\"goalStartDate\"\n              id=\"goalStartDate\"\n              value={goalStartDate}\n              onChange={(e) => setSearchInput(e.target.value)}\n              required\n            />\n            <button\n              onClick={() => {\n                setEditGoalStartDate(false);\n                onClickingDone();\n              }}\n            >\n              Done\n            </button>\n          </>\n        )}\n      </div>\n      <div>\n        <label> Goal End Date </label>\n        <h3>{goalEndDate}</h3>\n      </div>\n      <div>\n        <label> Goal Categories </label>\n        <div>\n          {goalCategories.length > 0 &&\n            Object.values(goalCategories).map((goalCategory) => (\n              <div>\n                <p>{goalCategory.title} </p>\n                <button key={goalCategory.id} onClick={() => removeGoalCategory(goalCategory.id)}>\n                  X\n                </button>\n              </div>\n            ))}\n        </div>\n        \n        {!editGoalCategories ? (\n          <button onClick={() => setEditGoalCategories(true)}>Edit</button>\n        ) : (\n          <>\n            <input\n              type=\"text\"\n              placeholder=\"Search For Category Here\"\n              onChange={handleChange}\n              value={searchInput}\n            />\n            {searchInput.length > 0 \n            && \n            <SearchBar\n              onClickingAnOption={ (category, e)=> onClickingACategory(category, e) }\n              optionsToDisplay={ categoriesToDisplay }\n            />}\n            <button\n              onClick={() => {\n                setEditGoalCategories(false);\n                onClickingDone();\n              }}\n            >\n              Done\n            </button>\n          </>\n        )}\n      </div>\n      <div>\n        <button onClick={()=>{\n          // delete\n          navigate(\"/goals\")\n          }}>Delete Goals</button>\n      </div>\n      <div>\n        <button onClick={()=>navigate(\"/goals\")}>Back To Goals</button>\n      </div>\n    </div>\n  );\n};\n\nexport default DistinctGoalPage;\n"]},"metadata":{},"sourceType":"module"}