{"ast":null,"code":"var _jsxFileName = \"/Users/dionysiospapadopoulos/Documents/CodeClan/taskManagerFinalProject/task_manager/client/src/containers/AddNewGoalPage.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useContext } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport RequestContext from \"../context/RequestContext\";\nimport DropDownMenuCategory from \"../components/DropDownMenuCategory\";\nimport DropDownMenuPriority from \"../components/DropDownMenuPriority\";\nimport Menu from \"../components/Menu\";\nimport SearchBar from \"../components/SearchBar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst AddNewGoalPage = _ref => {\n  _s();\n\n  let {\n    categories,\n    priorities,\n    goals,\n    goalTypesList,\n    updateAppMainStateFromComponent\n  } = _ref;\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [goalTitle, setGoalTitle] = useState(null);\n  const [goalSetDate, setGoalSetDate] = useState(null);\n  const [goalType, setGoalType] = useState(null);\n  const [goalTarget, setGoalTarget] = useState(null);\n  const [goalStartDate, setGoalStartDate] = useState(null);\n  const [goalEndDate, setGoalEndDate] = useState(null);\n  const [goalCategories, setGoalCategories] = useState([]);\n  const [editGoalCategories, setEditGoalCategories] = useState(false);\n  const [categoriesToDisplay, setCategoriesToDisplay] = useState([]);\n  const [goalActive, setGoalActive] = useState(true);\n  const {\n    get,\n    post\n  } = useContext(RequestContext);\n  const navigate = useNavigate();\n  useEffect(() => {\n    let categoriesToDisplay = categories.filter(category => {\n      return category.title.toLowerCase().match(searchInput);\n    });\n    setCategoriesToDisplay(categoriesToDisplay);\n  }, [searchInput]);\n\n  const handleChange = e => {\n    e.preventDefault();\n    setSearchInput(e.target.value.toLowerCase());\n  };\n\n  const onClickingACategory = (category, e) => {\n    e.preventDefault();\n    setGoalCategories([...goalCategories, category]);\n  };\n\n  const removeGoalCategory = categoryID => {\n    const updatedCategories = goalCategories.filter(category => category.id !== categoryID);\n    setGoalCategories(updatedCategories);\n  };\n\n  const closeMenuFunction = () => {\n    setIsMenuOpen(false);\n  };\n\n  const onClickingDone = e => {\n    e.preventDefault();\n    let newGoal = {\n      title: goalTitle,\n      type: goalType,\n      target: goalTarget,\n      startDate: goalStartDate,\n      categories: goalCategories\n    }; // console.log(\"updatedGoal\", newGoal);/////////////\n\n    post(\"goals\", newGoal); /////\n\n    updateAppMainStateFromComponent(newGoal);\n    navigate(\"/goals\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    children: [!isMenuOpen ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsMenuOpen(!isMenuOpen),\n        children: \"Menu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }, this)\n    }, void 0, false) : /*#__PURE__*/_jsxDEV(Menu, {\n      closeMenuFunction: () => closeMenuFunction(),\n      categories: categories,\n      priorities: priorities,\n      goals: goals\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \" Goal Title \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: goalTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"goalTitle\",\n        id: \"goalTitle\",\n        value: goalTitle,\n        onChange: e => setGoalTitle(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \" Goal Type \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: goalType\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"goalType\",\n        id: \"goalType\",\n        onChange: e => setGoalType(e.target.value),\n        children: goalTypesList.map(type => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: type,\n          children: type\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \" Goal Target \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: goalTarget\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"goalTarget\",\n        id: \"goalTarget\",\n        value: goalTarget,\n        onChange: e => setGoalTarget(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \" Goal Start Date \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: goalStartDate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        name: \"goalStartDate\",\n        id: \"goalStartDate\",\n        value: goalStartDate,\n        onChange: e => setGoalStartDate(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \" Categories \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: goalCategories.length > 0 && Object.values(goalCategories).map(goalCategory => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [goalCategory.title, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => removeGoalCategory(goalCategory.id),\n            children: \"X\"\n          }, goalCategory.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search For Category Here\",\n        onChange: handleChange,\n        value: searchInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this), searchInput.length > 0 && /*#__PURE__*/_jsxDEV(SearchBar, {\n        onClickingAnOption: (category, e) => onClickingACategory(category, e),\n        optionsToDisplay: categoriesToDisplay\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: e => onClickingDone(e),\n      children: \" Create New Goal \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddNewGoalPage, \"In6WOlWdPGvg9/SdgtRqde3BcFA=\", false, function () {\n  return [useNavigate];\n});\n\n_c = AddNewGoalPage;\nexport default AddNewGoalPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddNewGoalPage\");","map":{"version":3,"sources":["/Users/dionysiospapadopoulos/Documents/CodeClan/taskManagerFinalProject/task_manager/client/src/containers/AddNewGoalPage.js"],"names":["useState","useEffect","useContext","useNavigate","useLocation","RequestContext","DropDownMenuCategory","DropDownMenuPriority","Menu","SearchBar","AddNewGoalPage","categories","priorities","goals","goalTypesList","updateAppMainStateFromComponent","isMenuOpen","setIsMenuOpen","searchInput","setSearchInput","goalTitle","setGoalTitle","goalSetDate","setGoalSetDate","goalType","setGoalType","goalTarget","setGoalTarget","goalStartDate","setGoalStartDate","goalEndDate","setGoalEndDate","goalCategories","setGoalCategories","editGoalCategories","setEditGoalCategories","categoriesToDisplay","setCategoriesToDisplay","goalActive","setGoalActive","get","post","navigate","filter","category","title","toLowerCase","match","handleChange","e","preventDefault","target","value","onClickingACategory","removeGoalCategory","categoryID","updatedCategories","id","closeMenuFunction","onClickingDone","newGoal","type","startDate","map","length","Object","values","goalCategory"],"mappings":"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","sourcesContent":["import { useState, useEffect, useContext } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport RequestContext from \"../context/RequestContext\";\nimport DropDownMenuCategory from \"../components/DropDownMenuCategory\";\nimport DropDownMenuPriority from \"../components/DropDownMenuPriority\";\nimport Menu from \"../components/Menu\";\nimport SearchBar from \"../components/SearchBar\";\n\nconst AddNewGoalPage = ({ categories, priorities, goals, goalTypesList, updateAppMainStateFromComponent }) => {\n    const [isMenuOpen, setIsMenuOpen] = useState(false);\n    const [searchInput, setSearchInput] = useState(\"\");\n\n    const [goalTitle, setGoalTitle] = useState(null);\n    const [goalSetDate, setGoalSetDate] = useState(null);\n    const [goalType, setGoalType] = useState(null);\n    const [goalTarget, setGoalTarget] = useState(null);\n    const [goalStartDate, setGoalStartDate] = useState(null);\n    const [goalEndDate, setGoalEndDate] = useState(null);\n    const [goalCategories, setGoalCategories] = useState([]);\n    const [editGoalCategories, setEditGoalCategories] = useState(false);\n    const [categoriesToDisplay, setCategoriesToDisplay] = useState([]);\n    const [goalActive, setGoalActive] = useState(true);\n\n    const {get, post} = useContext(RequestContext);\n    const navigate = useNavigate();\n\n\n    useEffect(() => {\n        let categoriesToDisplay = categories.filter((category) => {\n          return category.title.toLowerCase().match(searchInput);\n        });\n        setCategoriesToDisplay(categoriesToDisplay);\n      }, [searchInput]);\n\n    const handleChange = (e) => {\n        e.preventDefault();\n        setSearchInput(e.target.value.toLowerCase());\n      };\n\n    const onClickingACategory = (category,e) => {\n        e.preventDefault();\n        setGoalCategories([...goalCategories, category]);\n    \n      };\n    \n    const removeGoalCategory = (categoryID) => {\n    const updatedCategories = goalCategories.filter(\n        (category) => category.id !== categoryID\n    );\n    setGoalCategories(updatedCategories);\n    };\n\n\n    const closeMenuFunction = () => {\n        setIsMenuOpen(false);\n    }\n\n    const onClickingDone = (e) => {\n        e.preventDefault();\n        let newGoal = {\n            title: goalTitle, \n            type: goalType, \n            target: goalTarget, \n            startDate: goalStartDate,\n            categories: goalCategories\n        };\n        // console.log(\"updatedGoal\", newGoal);/////////////\n        post(\"goals\", newGoal);/////\n        updateAppMainStateFromComponent(newGoal);\n        navigate(\"/goals\");\n    }\n        \n    return(\n        <form>\n            {!isMenuOpen?\n                <>\n                    <button onClick={()=>setIsMenuOpen(!isMenuOpen)}>Menu</button>\n                </>\n            :\n                <Menu\n                    closeMenuFunction={ ()=>closeMenuFunction() }\n                    categories={ categories }\n                    priorities={ priorities }\n                    goals={ goals }\n                />\n            }\n            <div>\n                <label> Goal Title </label>\n                <h3>{goalTitle}</h3>\n                <input type=\"text\" name=\"goalTitle\" id=\"goalTitle\" value={goalTitle} onChange={e=> setGoalTitle(e.target.value)} required/>\n\n            </div>\n            <div>\n                <label> Goal Type </label>\n                <h3>{goalType}</h3>\n                <select name=\"goalType\" id=\"goalType\" onChange={e=> setGoalType(e.target.value)}>\n                    {goalTypesList.map(type => (\n                        <option value={ type }>{ type }</option>\n                    ))}\n                </select>\n            </div>\n            <div>\n                <label> Goal Target </label>\n                <h3>{goalTarget}</h3>\n                <input type=\"text\" name=\"goalTarget\" id=\"goalTarget\" value={goalTarget} onChange={e=> setGoalTarget(e.target.value)} required/>\n            </div>\n            <div>\n                <label> Goal Start Date </label>\n                <h3>{goalStartDate}</h3>\n                <input type=\"date\" name=\"goalStartDate\" id=\"goalStartDate\" value={goalStartDate} onChange={e=> setGoalStartDate(e.target.value)} required/>\n            </div>\n            <div>\n                <label> Categories </label>\n                <div>\n                {goalCategories.length > 0 &&\n                    Object.values(goalCategories).map((goalCategory) => (\n                    <div>\n                        <p>{goalCategory.title} </p>\n                        <button key={goalCategory.id} onClick={() => removeGoalCategory(goalCategory.id)}>\n                        X\n                        </button>\n                    </div>\n                    ))}\n                </div>\n                <input\n                type=\"text\"\n                placeholder=\"Search For Category Here\"\n                onChange={handleChange}\n                value={searchInput}\n                />\n                {searchInput.length > 0 \n                && \n                <SearchBar\n                    onClickingAnOption={ (category, e)=> onClickingACategory(category, e) }\n                    optionsToDisplay={ categoriesToDisplay }\n                />}\n            </div>\n            <button onClick={(e)=> onClickingDone(e)}> Create New Goal </button>\n        </form>\n    )\n}\n\nexport default AddNewGoalPage;"]},"metadata":{},"sourceType":"module"}