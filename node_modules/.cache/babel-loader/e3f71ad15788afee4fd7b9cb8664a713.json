{"ast":null,"code":"var _jsxFileName = \"/Users/dionysiospapadopoulos/Documents/CodeClan/taskManagerFinalProject/task_manager/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport WholeMainPageContainer from './containers/WholeMainPageContainer';\nimport DistinctTaskPage from './containers/DistinctTaskPage';\nimport AddNewTaskPage from './containers/AddNewTaskPage';\nimport { Route, Routes } from \"react-router-dom\";\nimport { useAuth0 } from '@auth0/auth0-react';\nimport configData from \"./config.json\";\nimport { createRequestHelper } from './helpers/requestHelper';\nimport ProfilePage from './containers/ProfilePage';\nimport GoalsPage from './containers/GoalsPage';\nimport DistinctGoalPage from './containers/DistinctGoalPage';\nimport AddNewGoalPage from './containers/AddNewGoalPage';\nimport CategoriesPage from './containers/CategoriesPage';\nimport DistinctCategoryPage from './containers/DistinctCategoryPage';\nimport AddNewCategoryPage from './containers/AddNewCategoryPage';\nimport './styles/App.css';\nimport RequestContext from './context/RequestContext';\nimport dummyGoals from \"./helpers/dummyGoalApi.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const {\n    isLoading,\n    error,\n    isAuthenticated,\n    user,\n    getAccessTokenSilently,\n    loginWithRedirect,\n    logout\n  } = useAuth0();\n  const [accessToken, setAccessToken] = useState(null);\n  const [allTasks, setAllTasks] = useState(null);\n  const [completedTasks, setCompletedTasks] = useState([]);\n  const [uncompletedTasks, setUncompletedTasks] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [priorities, setPriorities] = useState([]);\n  const [goals, setGoals] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [goalTypesList, setGoalTypesList] = useState([]);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [get, setGet] = useState();\n  const [post, setPost] = useState();\n  const [put, setPut] = useState(); // const [fetchedTasks, setFetchedTasks] = useState([]);\n  //   useEffect(() => {\n  //   let test = new Date(\"2022-05-03\".split(\"-\").toString())\n  //   console.log(\"test!!!!!!!!!!!!!!!\", test);\n  //   console.log(\"test.toLocaleDateString!!!!!!!!!!!!!!!\", test.toLocaleDateString());\n  // }, []);\n\n  useEffect(() => {\n    if (!isLoaded) {\n      return;\n    }\n\n    const requestHelper = createRequestHelper(accessToken); // console.log(accessToken)///////\n\n    setGet(() => requestHelper.get);\n    setPost(() => requestHelper.post);\n    setPut(() => requestHelper.put);\n  }, [accessToken]);\n  useEffect(() => {\n    const getAccessToken = async () => {\n      try {\n        const accessToken = await getAccessTokenSilently({\n          audience: configData.audience,\n          scope: configData.scope\n        });\n        setAccessToken(accessToken);\n        setIsLoaded(true);\n      } catch (e) {\n        console.log(e.message);\n      }\n    };\n\n    getAccessToken();\n  }, [getAccessTokenSilently]);\n  useEffect(() => {\n    if (!isLoaded) {\n      return;\n    }\n\n    const getTasks = async authId => {\n      get(\"tasks\").then(function (resJson) {\n        setAllTasks(resJson);\n      }).catch(e => console.log(e));\n    };\n\n    getTasks();\n    postUser();\n    getCategories();\n    getGoals();\n    getUsers();\n  }, [get, post, put]);\n\n  const postUser = payload => {\n    fetch('http://localhost:8080/auth0/users', {\n      method: \"POST\",\n      headers: new Headers({\n        Authorization: \"Bearer \" + accessToken,\n        \"Content-Type\": \"application/json\"\n      })\n    }).then(res => res.json()).catch(e => console.log(e));\n  };\n\n  const getCategories = () => {\n    get(\"categories\").then(data => setCategories(data));\n  };\n\n  const getGoals = () => {\n    // console.log(\"goals called\", dummyGoals);////////////\n    // setGoals(dummyGoals)///////////Delete after getting it from api\"\n    get(\"goals\").then(data => setGoals(data));\n  };\n\n  const getUsers = () => {\n    get(\"users\").then(data => setUsers(data));\n  }; // updateAppMainStateFromComponent={ updateAppGoalsFromComponent }\n\n\n  const updateAppTasksFromComponent = () => {};\n\n  const updateAppGoalsFromComponent = goalToChange => {\n    let allIdInGoals = goals.map(goal => goal.id);\n\n    if (allIdInGoals.includes(goalToChange.id)) {\n      goals.filter(goal => {\n        return goal.id !== goalToChange.id;\n      });\n      setGoals([...goals, goalToChange]);\n    } else {\n      setGoals([...goals, goalToChange]);\n    }\n  };\n\n  const updateAppCategoriesFromComponent = () => {};\n\n  useEffect(() => {\n    // setting the comleted and unclompleted tasks \n    // in different states.\n    if (allTasks) {\n      let completedHelper = [];\n      let uncompletedHelper = [];\n\n      for (let task of allTasks) {\n        if (task.completed) {\n          completedHelper.push(task);\n        } else {\n          uncompletedHelper.push(task);\n        }\n      }\n\n      setCompletedTasks(completedHelper);\n      setUncompletedTasks(uncompletedHelper);\n    }\n  }, [allTasks]);\n  useEffect(() => {\n    const dummyCategoriesList = [\"studieng\", \"playing\", \"making something beautiful\", \"get bored\", \"play tetris\"];\n  }, [allTasks, categories]);\n  useEffect(() => {\n    const prioritiesList = [\"LOW\", \"MEDIUM\", \"HIGH\"];\n    setPriorities(prioritiesList);\n  }, [allTasks]);\n  useEffect(() => {\n    const goalTypesList = [\"DAILY\", \"WEEKLY\", \"MONTHLY\"];\n    setGoalTypesList(goalTypesList);\n  }, [goals]);\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Oops... \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 14\n    }, this);\n  }\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 14\n    }, this);\n  }\n\n  if (!isAuthenticated) {\n    return loginWithRedirect();\n  }\n\n  return /*#__PURE__*/_jsxDEV(RequestContext.Provider, {\n    value: {\n      get,\n      post,\n      put\n    },\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(WholeMainPageContainer, {\n          uncompletedTasks: uncompletedTasks,\n          completedTasks: completedTasks,\n          categories: categories,\n          priorities: priorities,\n          user: user,\n          goals: goals,\n          goalTypesList: goalTypesList\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/task/:task_title\",\n        element: /*#__PURE__*/_jsxDEV(DistinctTaskPage, {\n          categories: categories,\n          priorities: priorities,\n          goals: goals,\n          goalTypesList: goalTypesList,\n          users: users\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 51\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/task/createNewTask\",\n        element: /*#__PURE__*/_jsxDEV(AddNewTaskPage, {\n          categories: categories,\n          priorities: priorities,\n          goals: goals,\n          goalTypesList: goalTypesList,\n          users: users\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 53\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/goals\",\n        element: /*#__PURE__*/_jsxDEV(GoalsPage, {\n          categories: categories,\n          priorities: priorities,\n          goals: goals,\n          goalTypesList: goalTypesList,\n          completedTasks: completedTasks\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/goal/:goal_title\",\n        element: /*#__PURE__*/_jsxDEV(DistinctGoalPage, {\n          categories: categories,\n          priorities: priorities,\n          goals: goals,\n          goalTypesList: goalTypesList,\n          users: users,\n          updateAppMainStateFromComponent: () => updateAppGoalsFromComponent()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 51\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/goal/createNewGoal\",\n        element: /*#__PURE__*/_jsxDEV(AddNewGoalPage, {\n          categories: categories,\n          priorities: priorities,\n          goals: goals,\n          goalTypesList: goalTypesList,\n          updateAppMainStateFromComponent: () => updateAppGoalsFromComponent()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 53\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/categories\",\n        element: /*#__PURE__*/_jsxDEV(CategoriesPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 45\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/category/:category_title\",\n        element: /*#__PURE__*/_jsxDEV(DistinctCategoryPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 59\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/category/createNewCategory\",\n        element: /*#__PURE__*/_jsxDEV(AddNewCategoryPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 61\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/profile\",\n        element: /*#__PURE__*/_jsxDEV(ProfilePage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 216,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"eifRXh71z2qx1WP3e5zlRAsZdHo=\", false, function () {\n  return [useAuth0];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/dionysiospapadopoulos/Documents/CodeClan/taskManagerFinalProject/task_manager/client/src/App.js"],"names":["React","useState","useEffect","WholeMainPageContainer","DistinctTaskPage","AddNewTaskPage","Route","Routes","useAuth0","configData","createRequestHelper","ProfilePage","GoalsPage","DistinctGoalPage","AddNewGoalPage","CategoriesPage","DistinctCategoryPage","AddNewCategoryPage","RequestContext","dummyGoals","App","isLoading","error","isAuthenticated","user","getAccessTokenSilently","loginWithRedirect","logout","accessToken","setAccessToken","allTasks","setAllTasks","completedTasks","setCompletedTasks","uncompletedTasks","setUncompletedTasks","categories","setCategories","priorities","setPriorities","goals","setGoals","users","setUsers","goalTypesList","setGoalTypesList","isLoaded","setIsLoaded","get","setGet","post","setPost","put","setPut","requestHelper","getAccessToken","audience","scope","e","console","log","message","getTasks","authId","then","resJson","catch","postUser","getCategories","getGoals","getUsers","payload","fetch","method","headers","Headers","Authorization","res","json","data","updateAppTasksFromComponent","updateAppGoalsFromComponent","goalToChange","allIdInGoals","map","goal","id","includes","filter","updateAppCategoriesFromComponent","completedHelper","uncompletedHelper","task","completed","push","dummyCategoriesList","prioritiesList"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport WholeMainPageContainer from './containers/WholeMainPageContainer';\nimport DistinctTaskPage from './containers/DistinctTaskPage';\nimport AddNewTaskPage from './containers/AddNewTaskPage';\nimport {\n  Route,\n  Routes\n} from \"react-router-dom\";\nimport { useAuth0 } from '@auth0/auth0-react';\nimport configData from \"./config.json\";\nimport { createRequestHelper } from './helpers/requestHelper';\nimport ProfilePage from './containers/ProfilePage';\nimport GoalsPage from './containers/GoalsPage';\nimport DistinctGoalPage from './containers/DistinctGoalPage';\nimport AddNewGoalPage from './containers/AddNewGoalPage';\nimport CategoriesPage from './containers/CategoriesPage';\nimport DistinctCategoryPage from './containers/DistinctCategoryPage';\nimport AddNewCategoryPage from './containers/AddNewCategoryPage';\n\n\nimport './styles/App.css';\nimport RequestContext from './context/RequestContext';\nimport dummyGoals from \"./helpers/dummyGoalApi.json\"\n\nfunction App() {\n\n  const {\n    isLoading,\n    error,\n    isAuthenticated,\n    user,\n    getAccessTokenSilently,\n    loginWithRedirect,\n    logout,\n  } = useAuth0();\n\n  const [accessToken, setAccessToken] = useState(null);\n  const [allTasks, setAllTasks] = useState(null);\n  const [completedTasks, setCompletedTasks] = useState([]);\n  const [uncompletedTasks, setUncompletedTasks] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [priorities, setPriorities] = useState([]);\n  const [goals, setGoals] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [goalTypesList, setGoalTypesList] = useState([]);\n  \n  const [isLoaded, setIsLoaded] = useState(false);\n  const [get, setGet] = useState();\n  const [post, setPost] = useState();\n  const [put, setPut] = useState();\n\n  // const [fetchedTasks, setFetchedTasks] = useState([]);\n\n  //   useEffect(() => {\n\n  //   let test = new Date(\"2022-05-03\".split(\"-\").toString())\n  //   console.log(\"test!!!!!!!!!!!!!!!\", test);\n  //   console.log(\"test.toLocaleDateString!!!!!!!!!!!!!!!\", test.toLocaleDateString());\n\n      \n  // }, []);\n\n    useEffect(() => {\n      if(!isLoaded){\n        return\n      }\n      const requestHelper = createRequestHelper(accessToken);\n      // console.log(accessToken)///////\n      setGet(()=> requestHelper.get);\n      setPost(()=> requestHelper.post);\n      setPut(()=> requestHelper.put);\n\n    }, [accessToken]);\n\n    useEffect(() => {\n      const getAccessToken = async () => {\n        try {\n          const accessToken = await getAccessTokenSilently({\n            audience: configData.audience,\n            scope: configData.scope,\n          });\n          setAccessToken(accessToken);\n          setIsLoaded(true);\n        } catch (e) {\n          console.log(e.message);\n        }\n      };\n      getAccessToken();\n    }, [getAccessTokenSilently]);\n\n    useEffect(() => {\n      if (!isLoaded) {\n        return;\n      }\n\n      const getTasks =  async (authId) => {\n        get(\"tasks\")\n          .then(function (resJson) {\n            setAllTasks(resJson);\n          })\n          .catch((e) => console.log(e));\n        }\n        getTasks();\n        postUser();\n        getCategories();\n        getGoals();\n        getUsers();\n    }, [get, post, put]);\n\n    const postUser = (payload) => {\n      fetch('http://localhost:8080/auth0/users', {\n        method: \"POST\",\n        headers: new Headers({\n          Authorization: \"Bearer \" + accessToken,\n          \"Content-Type\": \"application/json\",\n        })\n      })\n      .then(res => res.json())\n      .catch((e) => console.log(e));\n  }\n\n  const getCategories = () => {\n    get(\"categories\")\n    .then(data=> (setCategories(data)))\n  }\n\n  const getGoals = () => {\n    // console.log(\"goals called\", dummyGoals);////////////\n    // setGoals(dummyGoals)///////////Delete after getting it from api\"\n    get(\"goals\")\n    .then(data=> (setGoals(data)))\n  }\n\n  const getUsers = () => {\n    get(\"users\")\n    .then(data=> (setUsers(data)))\n  }\n\n  // updateAppMainStateFromComponent={ updateAppGoalsFromComponent }\n  const updateAppTasksFromComponent =() => {\n     \n  }\n\n  const updateAppGoalsFromComponent =(goalToChange) => {\n    let allIdInGoals = goals.map(goal=> goal.id);\n    if(allIdInGoals.includes(goalToChange.id)){\n      goals.filter(goal => {\n        return goal.id!==goalToChange.id\n      })\n      setGoals([...goals, goalToChange]);\n\n    }else{\n      setGoals([...goals, goalToChange]);\n    }\n     \n  }\n\n  const updateAppCategoriesFromComponent =() => {\n     \n  }\n\n    useEffect(() => {\n      // setting the comleted and unclompleted tasks \n      // in different states.\n      if(allTasks){\n      let completedHelper = [];\n      let uncompletedHelper = [];\n      \n        for(let task of allTasks){\n          if(task.completed){\n            completedHelper.push(task);\n\n          }else{\n            uncompletedHelper.push(task);\n\n          }\n        }\n        setCompletedTasks(completedHelper);\n        setUncompletedTasks(uncompletedHelper);\n      }\n      \n    }, [allTasks]);\n\n    useEffect(() => {\n      const dummyCategoriesList = [\"studieng\", \"playing\", \"making something beautiful\", \"get bored\", \"play tetris\"]\n      \n    }, [allTasks, categories]);\n\n    useEffect(() => {\n      const prioritiesList = [ \"LOW\", \"MEDIUM\", \"HIGH\" ];\n      setPriorities(prioritiesList);\n      \n    }, [allTasks]);\n\n    useEffect(() => {\n      const goalTypesList = [ \"DAILY\", \"WEEKLY\", \"MONTHLY\" ];\n      setGoalTypesList(goalTypesList);\n      \n    }, [goals]);\n\n    if (error) {\n      return <div>Oops... {error.message}</div>;\n    }\n    \n    if (isLoading) {\n      return <div>Loading...</div>;\n    }\n    \n    if (!isAuthenticated) {\n      return loginWithRedirect();\n    }\n\n    \n\n  return (\n    <RequestContext.Provider value={{get, post, put}}>\n      <Routes>\n        <Route path=\"/\" element={<WholeMainPageContainer \n          uncompletedTasks={ uncompletedTasks } \n          completedTasks={ completedTasks } \n          categories={ categories }\n          priorities={ priorities }\n          user = { user }\n          goals = { goals }\n          goalTypesList ={ goalTypesList }\n        />}/>\n        <Route path=\"/task/:task_title\" element={ <DistinctTaskPage\n          categories={ categories }\n          priorities={ priorities }\n          goals = { goals }\n          goalTypesList ={ goalTypesList }\n          users= { users }\n        /> }/>\n        <Route path=\"/task/createNewTask\" element={ <AddNewTaskPage\n          categories={ categories }\n          priorities={ priorities }\n          goals = { goals }\n          goalTypesList ={ goalTypesList }\n          users= { users }\n        /> }/>\n        <Route path=\"/goals\" element={ <GoalsPage\n          categories={ categories }\n          priorities={ priorities }\n          goals = { goals }\n          goalTypesList ={ goalTypesList }\n          completedTasks={ completedTasks } \n        /> }/>\n        <Route path=\"/goal/:goal_title\" element={ <DistinctGoalPage\n          categories={ categories }\n          priorities={ priorities }\n          goals = { goals }\n          goalTypesList ={ goalTypesList }\n          users= { users }\n          updateAppMainStateFromComponent={()=> updateAppGoalsFromComponent() }\n\n        /> }/>\n        <Route path=\"/goal/createNewGoal\" element={ <AddNewGoalPage\n          categories={ categories }\n          priorities={ priorities }\n          goals = { goals }\n          goalTypesList ={ goalTypesList }\n          updateAppMainStateFromComponent={()=> updateAppGoalsFromComponent() }\n        /> }/>\n        <Route path=\"/categories\" element={ <CategoriesPage/> }/>\n        <Route path=\"/category/:category_title\" element={ <DistinctCategoryPage/> }/>\n        <Route path=\"/category/createNewCategory\" element={ <AddNewCategoryPage/> }/>\n        <Route path=\"/profile\" element={ <ProfilePage/> }/>\n      </Routes>\n    </RequestContext.Provider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}